<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Componentes</title>
</head>

<body>
    <h1>Componentes</h1>
    <main>
        <my-element title="El titulo" nombre="mundo" despide></my-element>
        <input id="txtNombre" type="text" value="mundo">
        <my-counter delta="2"></my-counter>
    </main>

    <template id="my-cardx">
        <h1>Plantilla con identificador único</h1>
        <section>
            <h2 class="titulo">Titulo</h2>
            <slot>(vacío)</slot>
            <slot name="pie"></slot>
        </section>
    </template>
    <template id="my-card-personalizado">
        <h1>Plantilla con identificador propio</h1>
        <article>
            <div class="titulo">Titulo</div>
            <slot>(vacío)</slot>
            <slot name="pie"></slot>
        </article>
        <my-element title="El titulo" nombre="plantilla" despide></my-element>
    </template>

    <my-card title="Ejemplo con plantilla" template="my-card-personalizado">
        <div slot="pie">
            <hr>
            <footer>Este es el pie</footer>
        </div>
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias, libero dolor odio dolorem tempore harum
        cumque ut recusandae ea aliquid at autem iste numquam, expedita culpa doloribus iure, illum eius.
        <my-counter init="100"></my-counter>
    </my-card>
    <my-card title="Ejemplo con plantilla">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestias, libero dolor odio dolorem tempore harum
        cumque ut recusandae ea aliquid at autem iste numquam, expedita culpa doloribus iure, illum eius.
    </my-card>

    <script type="module" src="./components/my-element.js"></script>
    <script type="module" src="./components/my-counter.js"></script>
    <script type="module" src="./components/my-card.js"></script>
    <!-- <script type="module" src="./components/kk.js"></script> -->

    <script type="module">
        import { MyElement } from './components/my-element.js'
        let wc = document.querySelector('my-element')
        if (wc) {
            console.log('el objeto existe')
        } else {
            console.log('el objeto no existe')
        }
        console.log(wc.title)

        txtNombre.addEventListener('input', ev => {
            // wc.setAttribute('nombre', ev.target.value)
            wc.nombre = ev.target.value
        })

        if (customElements.get('my-element')) {
            console.log('my-element definido')
        } else {
            console.log('la están vistiendo')
        }
        customElements.whenDefined('my-element').then(() => {
            wc.cotilla()

        })
        customElements.whenDefined('my-counter').then(() => {
            document.querySelector('my-counter').delta = 2
        })
        wc.addEventListener('click', () => {
            console.log('hace click')
        })
        console.log('termino el script')

        let wc2 = new MyElement()
        wc2.cotilla();
        wc2.title = 'Otro titulo'
        wc2.nombre = 'Granada'
        document.body.appendChild(wc2)
    </script>
</body>

</html>